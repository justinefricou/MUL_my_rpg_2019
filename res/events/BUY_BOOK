DIALOG
TALK buy_book
ANSWER yes
SET BUY 1
END
ANSWER no
END
END
IF BUY == 1
IF MONEY >= 20
IF WEIGHT < WEIGHT_MAX
TAKE MONEY 20
GIVE detective_diary 1
END
IF WEIGHT >= WEIGHT_MAX
DIALOG
TALK no_storage
END
END
END
IF MONEY < 20
DIALOG
TALK no_money
END
END
SET BUY 0
END